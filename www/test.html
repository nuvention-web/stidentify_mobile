<!DOCTYPE html>
<html>
<head>
  <meta charset="utf8">
  <meta name="viewport" content="width=device-width">
  <title>My Steroids App</title>

  <link rel="stylesheet" href="/vendor/topcoat/css/topcoat-mobile-light.css" />
  <link rel="stylesheet" href="/stylesheets/application.css" />

  <script src="/javascripts/onerror.js"></script>
  <script src="/javascripts/console.log.js"></script>
  <script src="/javascripts/jquery.min.js"></script>

  <!-- cordova.js is served from localhost to ensure the correct version -->
  <script src="http://localhost/cordova.js"></script>
  <script src="/components/steroids-js/steroids.js"></script>

  <script src="/javascripts/application.js"></script>
</head>
<body>
  <div class="content-padded">

    <h1></h1>

    <form>
      <h3>Input the other person's STID below to compare:</h3>
      <input name="stid" id="stid" placeholder="STID (e.g. 2a45j4)" type="text">
      <input name="commit" value="submit" type="submit" id="submit">
    </form>

    <script>
      window.onload = function(){

        var encodedData = window.location.search.split("=")[1];
        var data = JSON.parse(decodeURIComponent(encodedData));
        $('h1').html("Welcome back " + data["first_name"] + "!");

        var logoutButton = new steroids.buttons.NavigationBarButton();
        logoutButton.title = "logout";
        logoutButton.onTap = function(){ logout() }

        steroids.view.navigationBar.update({
          overrideBackButton: true,
          buttons: {left: [logoutButton]}
        });

        steroids.view.navigationBar.show();
      }

      function logout() {
        steroids.layers.popAll();
        // steroids.view.navigationBar.hide();
      }
    
    </script>
    
    
</body>
</html>
